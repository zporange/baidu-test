<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>js task-2</title>
</head>
<body>
    <h3>污染城市列表</h3>
    <ul id="aqi-list">
        <!--<li>第一名：福州，100</li>-->
    </ul>
    <script>
        var aqiData = [
            ['北京',90],
            ['上海',50],
            ['福州',10],
            ['广州',50],
            ['成都',90],
            ['西安',100]
        ];
        (function() {
            var aqiLi = document.getElementById('aqi-list');

            aqiLi.innerHTML = showAqi();

            function showAqi() {
                var sum = [];
                for (var i = 0, len = aqiData.length; i < len; i++) {
                    if (aqiData[i][1] >= 60) {             //遍历出空气污染大于等于60的城市
                        sum.push([aqiData[i][0],aqiData[i][1]]);
                    } 
                }

                /**
                 * sort默认的排序方式是以ASCII码的方式来计算
                 * 所以我们通过一个函数的比较来计算出正确的大小
                 * 然后把得到的数据拼接成HTML
                 */

                sum.sort(function(a, b) { 
                    return b[1] - a[1];
                })

                var result = '';
                for (var j = 0; j < sum.length; j++) {
                    result += '<li>第' + (j + 1) + '名:' + sum[j][0] + ' ' + sum[j][1] + '</li>'; 
                }
                return result;
            }
        })();
    </script>
</body>
</html>